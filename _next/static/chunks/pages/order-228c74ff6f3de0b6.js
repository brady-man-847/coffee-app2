(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{8037:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),i=r(5893),o=(0,n.default)((0,i.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline");t.Z=o},5542:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),i=r(5893),o=(0,n.default)((0,i.jsx)("path",{d:"M12.89 11.1c-1.78-.59-2.64-.96-2.64-1.9 0-1.02 1.11-1.39 1.81-1.39 1.31 0 1.79.99 1.9 1.34l1.58-.67c-.15-.45-.82-1.92-2.54-2.24V5h-2v1.26c-2.48.56-2.49 2.86-2.49 2.96 0 2.27 2.25 2.91 3.35 3.31 1.58.56 2.28 1.07 2.28 2.03 0 1.13-1.05 1.61-1.98 1.61-1.82 0-2.34-1.87-2.4-2.09l-1.66.67c.63 2.19 2.28 2.78 2.9 2.96V19h2v-1.24c.4-.09 2.9-.59 2.9-3.22 0-1.39-.61-2.61-3.01-3.44zM3 21H1v-6h6v2H4.52c1.61 2.41 4.36 4 7.48 4 4.97 0 9-4.03 9-9h2c0 6.08-4.92 11-11 11-3.72 0-7.01-1.85-9-4.67V21zm-2-9C1 5.92 5.92 1 12 1c3.72 0 7.01 1.85 9 4.67V3h2v6h-6V7h2.48C17.87 4.59 15.12 3 12 3c-4.97 0-9 4.03-9 9H1z"}),"CurrencyExchange");t.Z=o},1849:function(e,t,r){"use strict";var a=r(4836);t.Z=void 0;var n=a(r(4938)),i=r(5893),o=(0,n.default)((0,i.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");t.Z=o},6761:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return r(4117)}])},5179:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var a=r(5893),n=r(4974),i=r(7294);function o(e){let{handleValueChange:t,...r}=e,[o,l]=(0,i.useState)(""),s=e=>{let{value:r}=e.target,a=r.replace(/\D/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3").slice(0,13);l(a),t(a)};return(0,a.jsx)(n.Z,{type:"text",id:"phone-number-input",value:o,onChange:s,...r,sx:{width:"100%"}})}},1084:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var a=r(5893),n=r(1458);function i(){return(0,a.jsx)(n.Z,{sx:{background:"linear-gradient(to right, #6fcbb6, #9c64f4)","> span":{backgroundColor:"primary"}}})}},4117:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eg}});var a,n,i=r(5893),o=r(4682),l=r(7294);(a=n||(n={}))[a.TYPE_PHONE=0]="TYPE_PHONE",a[a.CHOOSE_ORDER=1]="CHOOSE_ORDER",a[a.FINISH_ORDER=2]="FINISH_ORDER";let s={view:n.TYPE_PHONE,phone:""},c=(e,t)=>{switch(t.type){case"SET_PHONE":return{...e,phone:t.phone};case"SET_VIEW":return{...e,view:t.view};default:throw Error("unknown action type")}},d=()=>(0,l.useReducer)(c,s),u=(0,o.kr)([s,()=>null]);var h=r(7357),p=r(5861),v=r(3321),f=r(8433),m=r(5179);function g(){let{phone:e}=(0,o.Sz)(u,e=>e[0]),t=(0,o.Sz)(u,e=>e[1]),r=()=>{f.Z.get("https://mcafe-api.onrender.com/order/".concat(e)).then(async e=>{let{data:r}=e;(null==r?void 0:r.length)!==0?t({type:"SET_VIEW",view:n.CHOOSE_ORDER}):alert("주문이 없습니다")}).catch(e=>{console.error(e)})},a=e=>{t({type:"SET_PHONE",phone:e})};return(0,i.jsxs)(h.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(p.Z,{component:"h1",variant:"h5",children:"걸리셨나요 ?"}),(0,i.jsxs)(h.Z,{sx:{mt:1},children:[(0,i.jsx)(m.Z,{margin:"normal",required:!0,fullWidth:!0,label:"핸드폰 번호",autoFocus:!0,handleValueChange:a}),(0,i.jsx)(v.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:r,children:"인증하기"})]})]})}var x=r(1084),Z=r(8228),b=r(5676),w=r(7848),C=r(5542),j=r(1849),R=r(3366),y=r(7462),S=r(6010),E=r(4780),N=r(1796),M=r(1496),P=r(7623),_=r(1588),k=r(4867);function D(e){return(0,k.Z)("MuiDivider",e)}(0,_.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);let I=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],O=e=>{let{absolute:t,children:r,classes:a,flexItem:n,light:i,orientation:o,textAlign:l,variant:s}=e;return(0,E.Z)({root:["root",t&&"absolute",s,i&&"light","vertical"===o&&"vertical",n&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===l&&"vertical"!==o&&"textAlignRight","left"===l&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]},D,a)},H=(0,M.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>(0,y.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,N.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:e,ownerState:t})=>(0,y.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:e,ownerState:t})=>(0,y.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(e.vars||e).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:e})=>(0,y.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),A=(0,M.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>(0,y.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),T=l.forwardRef(function(e,t){let r=(0,P.Z)({props:e,name:"MuiDivider"}),{absolute:a=!1,children:n,className:o,component:l=n?"div":"hr",flexItem:s=!1,light:c=!1,orientation:d="horizontal",role:u="hr"!==l?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=r,v=(0,R.Z)(r,I),f=(0,y.Z)({},r,{absolute:a,component:l,flexItem:s,light:c,orientation:d,role:u,textAlign:h,variant:p}),m=O(f);return(0,i.jsx)(H,(0,y.Z)({as:l,className:(0,S.Z)(m.root,o),role:u,ref:t,ownerState:f},v,{children:n?(0,i.jsx)(A,{className:m.wrapper,ownerState:f,children:n}):null}))});var z=r(629);function V(){let{phone:e}=(0,o.Sz)(u,e=>e[0]),t=(0,o.Sz)(u,e=>e[1]),{data:r,isLoading:a,refetch:l}=(0,w.a)(b.a.order.byPhone(e),async()=>{let{data:t}=await f.Z.get("https://mcafe-api.onrender.com/order/".concat(e));return t},{enabled:""!==e}),{mutate:s,isLoading:c}=function(){let e=async e=>{let{data:t}=await f.Z.post("https://mcafe-api.onrender.com/pay",{phone:e});return t};return(0,Z.D)(b.a.order.pay(),e)}(),{mutate:d,isLoading:m}=(0,Z.D)(b.a.order.cancel(),async e=>{let{data:t}=await f.Z.delete("https://mcafe-api.onrender.com/order/".concat(e));return t}),g=()=>{window.confirm("주문하시겠습니까?? ".concat(e,"님?"))?s(e,{onSuccess:()=>t({type:"SET_VIEW",view:n.FINISH_ORDER})}):window.alert("네")},R=()=>{l()};return(0,i.jsx)(z.Z,{elevation:3,sx:{p:1,m:1},children:a||c||m?(0,i.jsx)(x.g,{}):(e=>{if(void 0===e)return;let t=e.map((e,t)=>(0,i.jsxs)(h.Z,{children:[(0,i.jsx)(p.Z,{children:e.menuName}),(0,i.jsx)(p.Z,{children:e.name}),(0,i.jsx)(p.Z,{children:e.optionNameList.join(" ")}),(0,i.jsx)(T,{sx:{m:2}})]}));return(0,i.jsxs)(h.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[t,(0,i.jsx)(v.Z,{variant:"contained",onClick:g,startIcon:(0,i.jsx)(C.Z,{}),sx:[e=>({backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText})],children:"결제하기"}),(0,i.jsx)(v.Z,{variant:"contained",onClick:R,startIcon:(0,i.jsx)(j.Z,{}),sx:[e=>({backgroundColor:e.palette.warning.main,color:e.palette.warning.contrastText})],children:"새로고침"})]})})(r)})}function L(e){return(0,k.Z)("MuiCard",e)}(0,_.Z)("MuiCard",["root"]);let W=["className","raised"],F=e=>{let{classes:t}=e;return(0,E.Z)({root:["root"]},L,t)},$=(0,M.ZP)(z.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),B=l.forwardRef(function(e,t){let r=(0,P.Z)({props:e,name:"MuiCard"}),{className:a,raised:n=!1}=r,o=(0,R.Z)(r,W),l=(0,y.Z)({},r,{raised:n}),s=F(l);return(0,i.jsx)($,(0,y.Z)({className:(0,S.Z)(s.root,a),elevation:n?8:void 0,ref:t,ownerState:l},o))});function Y(e){return(0,k.Z)("MuiCardHeader",e)}let q=(0,_.Z)("MuiCardHeader",["root","avatar","action","content","title","subheader"]),X=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],G=e=>{let{classes:t}=e;return(0,E.Z)({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Y,t)},J=(0,M.ZP)("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,t)=>(0,y.Z)({[`& .${q.title}`]:t.title,[`& .${q.subheader}`]:t.subheader},t.root)})({display:"flex",alignItems:"center",padding:16}),K=(0,M.ZP)("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(e,t)=>t.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),Q=(0,M.ZP)("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(e,t)=>t.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),U=(0,M.ZP)("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(e,t)=>t.content})({flex:"1 1 auto"}),ee=l.forwardRef(function(e,t){let r=(0,P.Z)({props:e,name:"MuiCardHeader"}),{action:a,avatar:n,className:o,component:l="div",disableTypography:s=!1,subheader:c,subheaderTypographyProps:d,title:u,titleTypographyProps:h}=r,v=(0,R.Z)(r,X),f=(0,y.Z)({},r,{component:l,disableTypography:s}),m=G(f),g=u;null==g||g.type===p.Z||s||(g=(0,i.jsx)(p.Z,(0,y.Z)({variant:n?"body2":"h5",className:m.title,component:"span",display:"block"},h,{children:g})));let x=c;return null==x||x.type===p.Z||s||(x=(0,i.jsx)(p.Z,(0,y.Z)({variant:n?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},d,{children:x}))),(0,i.jsxs)(J,(0,y.Z)({className:(0,S.Z)(m.root,o),as:l,ref:t,ownerState:f},v,{children:[n&&(0,i.jsx)(K,{className:m.avatar,ownerState:f,children:n}),(0,i.jsxs)(U,{className:m.content,ownerState:f,children:[g,x]}),a&&(0,i.jsx)(Q,{className:m.action,ownerState:f,children:a})]}))});var et=(0,r(8169).Z)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function er(e){return(0,k.Z)("MuiAvatar",e)}(0,_.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);let ea=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],en=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,E.Z)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},er,t)},ei=(0,M.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})(({theme:e,ownerState:t})=>(0,y.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(e.vars||e).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,y.Z)({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[600]}))),eo=(0,M.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),el=(0,M.ZP)(et,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"}),es=l.forwardRef(function(e,t){let r=(0,P.Z)({props:e,name:"MuiAvatar"}),{alt:a,children:n,className:o,component:s="div",imgProps:c,sizes:d,src:u,srcSet:h,variant:p="circular"}=r,v=(0,R.Z)(r,ea),f=null,m=function({crossOrigin:e,referrerPolicy:t,src:r,srcSet:a}){let[n,i]=l.useState(!1);return l.useEffect(()=>{if(!r&&!a)return;i(!1);let n=!0,o=new Image;return o.onload=()=>{n&&i("loaded")},o.onerror=()=>{n&&i("error")},o.crossOrigin=e,o.referrerPolicy=t,o.src=r,a&&(o.srcset=a),()=>{n=!1}},[e,t,r,a]),n}((0,y.Z)({},c,{src:u,srcSet:h})),g=u||h,x=g&&"error"!==m,Z=(0,y.Z)({},r,{colorDefault:!x,component:s,variant:p}),b=en(Z);return f=x?(0,i.jsx)(eo,(0,y.Z)({alt:a,src:u,srcSet:h,sizes:d,ownerState:Z,className:b.img},c)):null!=n?n:g&&a?a[0]:(0,i.jsx)(el,{className:b.fallback}),(0,i.jsx)(ei,(0,y.Z)({as:s,ownerState:Z,className:(0,S.Z)(b.root,o),ref:t},v,{children:f}))});function ec(e){return(0,k.Z)("MuiCardContent",e)}(0,_.Z)("MuiCardContent",["root"]);let ed=["className","component"],eu=e=>{let{classes:t}=e;return(0,E.Z)({root:["root"]},ec,t)},eh=(0,M.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),ep=l.forwardRef(function(e,t){let r=(0,P.Z)({props:e,name:"MuiCardContent"}),{className:a,component:n="div"}=r,o=(0,R.Z)(r,ed),l=(0,y.Z)({},r,{component:n}),s=eu(l);return(0,i.jsx)(eh,(0,y.Z)({as:n,className:(0,S.Z)(s.root,a),ownerState:l,ref:t},o))});var ev=r(8037);function ef(){let{phone:e}=(0,o.Sz)(u,e=>e[0]);return(0,i.jsx)(h.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:(0,i.jsxs)(B,{sx:{maxWidth:345},children:[(0,i.jsx)(ee,{avatar:(0,i.jsx)(es,{"aria-label":"recipe"}),title:"잘 먹겠습니다.",subheader:"".concat(new Date().toLocaleDateString()+e,"님")}),(0,i.jsx)(ep,{sx:{textAlign:"center",height:400},children:(0,i.jsx)(ev.Z,{color:"success",sx:{height:400,fontSize:300}})})]})})}function em(){let{view:e}=(0,o.Sz)(u,e=>e[0]);return(0,i.jsx)(i.Fragment,{children:e===n.TYPE_PHONE?(0,i.jsx)(g,{}):e===n.CHOOSE_ORDER?(0,i.jsx)(V,{}):e===n.FINISH_ORDER?(0,i.jsx)(ef,{}):(0,i.jsx)(i.Fragment,{})})}function eg(){return(0,i.jsx)(u.Provider,{value:d(),children:(0,i.jsx)(em,{})})}}},function(e){e.O(0,[119,774,888,179],function(){return e(e.s=6761)}),_N_E=e.O()}]);