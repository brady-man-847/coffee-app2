(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{6761:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/order",function(){return r(2039)}])},5179:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(5893),n=r(4974),a=r(7294);function o(e){let{handleValueChange:t,...r}=e,[o,l]=(0,a.useState)(""),c=e=>{let{value:r}=e.target,i=r.replace(/\D/g,"").replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3").slice(0,13);l(i),t(i)};return(0,i.jsx)(n.Z,{type:"text",id:"phone-number-input",value:o,onChange:c,...r})}},1084:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var i=r(5893),n=r(1458);function a(){return(0,i.jsx)(n.Z,{sx:{background:"linear-gradient(to right, #6fcbb6, #9c64f4)","> span":{backgroundColor:"primary"}}})}},2039:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return $}});var i,n,a=r(5893),o=r(4682),l=r(7294);(i=n||(n={}))[i.TYPE_PHONE=0]="TYPE_PHONE",i[i.CHOOSE_ORDER=1]="CHOOSE_ORDER",i[i.FINISH_ORDER=2]="FINISH_ORDER";let c={view:n.TYPE_PHONE,phone:""},d=(e,t)=>{switch(t.type){case"SET_PHONE":return{...e,phone:t.phone};case"SET_VIEW":return{...e,view:t.view};default:throw Error("unknown action type")}},s=()=>(0,l.useReducer)(d,c),h=(0,o.kr)([c,()=>null]);var p=r(7357),u=r(5861),f=r(3321),g=r(8433),v=r(5179);function m(){let{phone:e}=(0,o.Sz)(h,e=>e[0]),t=(0,o.Sz)(h,e=>e[1]),r=()=>{g.Z.get("https://mcafe-api.onrender.com/order/".concat(e)).then(async e=>{let{data:r}=e;(null==r?void 0:r.length)!==0?t({type:"SET_VIEW",view:n.CHOOSE_ORDER}):alert("주문이 없습니다")}).catch(e=>{console.error(e)})},i=e=>{t({type:"SET_PHONE",phone:e})};return(0,a.jsxs)(p.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,a.jsx)(u.Z,{component:"h1",variant:"h5",children:"당신은 누구십니까?"}),(0,a.jsxs)(p.Z,{sx:{mt:1},children:[(0,a.jsx)(v.Z,{margin:"normal",required:!0,fullWidth:!0,label:"핸드폰 번호",autoFocus:!0,handleValueChange:i}),(0,a.jsx)(f.Z,{fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:r,children:"인증하기"})]})]})}var x=r(7837),w=r(8704),b=r(3366),E=r(7462),Z=r(6010),_=r(4780),R=r(1796),S=r(1496),j=r(7623),O=r(1588),C=r(4867);function N(e){return(0,C.Z)("MuiDivider",e)}(0,O.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);let I=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],D=e=>{let{absolute:t,children:r,classes:i,flexItem:n,light:a,orientation:o,textAlign:l,variant:c}=e;return(0,_.Z)({root:["root",t&&"absolute",c,a&&"light","vertical"===o&&"vertical",n&&"flexItem",r&&"withChildren",r&&"vertical"===o&&"withChildrenVertical","right"===l&&"vertical"!==o&&"textAlignRight","left"===l&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]},N,i)},P=(0,S.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.absolute&&t.absolute,t[r.variant],r.light&&t.light,"vertical"===r.orientation&&t.vertical,r.flexItem&&t.flexItem,r.children&&t.withChildren,r.children&&"vertical"===r.orientation&&t.withChildrenVertical,"right"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignRight,"left"===r.textAlign&&"vertical"!==r.orientation&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>(0,E.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:(0,R.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:e,ownerState:t})=>(0,E.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:e,ownerState:t})=>(0,E.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(e.vars||e).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:e})=>(0,E.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),T=(0,S.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.wrapper,"vertical"===r.orientation&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>(0,E.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),y=l.forwardRef(function(e,t){let r=(0,j.Z)({props:e,name:"MuiDivider"}),{absolute:i=!1,children:n,className:o,component:l=n?"div":"hr",flexItem:c=!1,light:d=!1,orientation:s="horizontal",role:h="hr"!==l?"separator":void 0,textAlign:p="center",variant:u="fullWidth"}=r,f=(0,b.Z)(r,I),g=(0,E.Z)({},r,{absolute:i,component:l,flexItem:c,light:d,orientation:s,role:h,textAlign:p,variant:u}),v=D(g);return(0,a.jsx)(P,(0,E.Z)({as:l,className:(0,Z.Z)(v.root,o),role:h,ref:t,ownerState:g},f,{children:n?(0,a.jsx)(T,{className:v.wrapper,ownerState:g,children:n}):null}))});var H=r(629),k=r(1084);function A(){let{phone:e}=(0,o.Sz)(h,e=>e[0]),t=(0,o.Sz)(h,e=>e[1]),{data:r,isLoading:i}=(0,x.a)(w.a.order.byPhone(e),async()=>{let{data:t}=await g.Z.get("https://mcafe-api.onrender.com/order/".concat(e));return t},{enabled:""!==e}),l=()=>{window.confirm("주문하시겠습니까?? ".concat(e,"님?"))?g.Z.post("https://mcafe-api.onrender.com/pay",{phone:e}).then(e=>{let{data:r}=e;console.log(r),t({type:"SET_VIEW",view:n.FINISH_ORDER})}):window.alert("네")};return(0,a.jsx)(H.Z,{elevation:3,sx:{p:1,m:1},children:i?(0,a.jsx)(k.g,{}):(e=>{if(void 0!==e)return e.map((e,t)=>(0,a.jsxs)(p.Z,{onClick:l,children:[(0,a.jsx)(u.Z,{children:e.menuName}),(0,a.jsx)(u.Z,{children:e.name}),(0,a.jsx)(u.Z,{children:e.optionNameList.join(" ")}),(0,a.jsx)(y,{sx:{m:2}})]}))})(r)})}function W(){return(0,a.jsx)("div",{children:"OrderFinishScreen"})}function V(){let{view:e}=(0,o.Sz)(h,e=>e[0]);return(0,a.jsx)(a.Fragment,{children:e===n.TYPE_PHONE?(0,a.jsx)(m,{}):e===n.CHOOSE_ORDER?(0,a.jsx)(A,{}):e===n.FINISH_ORDER?(0,a.jsx)(W,{}):(0,a.jsx)(a.Fragment,{})})}function $(){return(0,a.jsx)(h.Provider,{value:s(),children:(0,a.jsx)(V,{})})}}},function(e){e.O(0,[177,774,888,179],function(){return e(e.s=6761)}),_N_E=e.O()}]);